<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grupo Locar - Atualiza√ß√£o de Dados Cadastrais</title>
    <link rel="stylesheet" href="index.css" />
</head>

<body>
    <div class="container">
        <h1 class="titulo">Grupo Locar</h1>
        <img class="logo" src="Logotipo.png" alt="Logotipo Grupo Locar" />
        <h1>Atualiza√ß√£o de Dados Cadastrais ‚Äì Obrigat√≥ria</h1>
        <br />
        <p>Prezados(as) colaboradores(as),</p>
        <br />
        <p>
            <strong>Por gentileza, solicitamos que todos preencham o formul√°rio de
                atualiza√ß√£o de dados at√© 30/06/2025.</strong>
        </p>
        <br />
        <p>
            Pedimos que todos os campos sejam preenchidos com aten√ß√£o e veracidade. As
            informa√ß√µes fornecidas ser√£o tratadas com total sigilo e utilizadas exclusivamente para fins
            administrativos.
            <span style="color: red;">Caso n√£o possua todos os dados solicitados, preencha o campo correspondente com
                zeros.</span>
        </p>

        <p>Contamos com a colabora√ß√£o de todos!</p>
        <p>
            Atenciosamente,<br />
            Karen Monnerat<br />
            Recursos Humanos<br />
            Grupo Locar
        </p>
        <hr />

        <h2 style="margin-top: 30px">Formul√°rio de Atualiza√ß√£o</h2>
        <form id="dadosForm">
            <label>Nome Completo:</label>
            <input type="text" name="nome" maxlength="100" required />

            <h3>üìå Documentos Obrigat√≥rios</h3>

            <label>CNH (PDF ou imagem):</label>
            <div class="custom-file-upload">
                <input type="file" id="cnhArquivo" name="cnhArquivo" accept=".pdf,image/*" style="display: none" />
                <button type="button" onclick="document.getElementById('cnhArquivo').click()">Selecionar
                    Arquivo</button>
                <span id="nomeArquivoCNH">Nenhum arquivo escolhido</span>
            </div>

            <label style="margin-top: 30px">CNH:</label>
            <input type="text" name="cnh" required maxlength="11" />

            <label>Categoria:</label>
            <select name="categoria" required>
                <option value="">Selecione</option>
                <option>AB</option>
                <option>AC</option>
                <option>AD</option>
                <option>AE</option>
                <option>B</option>
                <option>C</option>
                <option>D</option>
                <option>E</option>
            </select>

            <label>Data de Validade da CNH:</label>
            <input type="date" name="dataValidadeCNH" required />

            <label style="margin-top: 50px">Comprovante de Resid√™ncia:</label>
            <div class="custom-file-upload">
                <input type="file" id="comprovanteResidencia" name="comprovanteResidencia" style="display: none" />
                <button type="button" onclick="document.getElementById('comprovanteResidencia').click()">Selecionar
                    Arquivo</button>
                <span id="nomeArquivoComprovante">Nenhum arquivo escolhido</span>
            </div>

            <h3 style="margin-top: 50px">üìé Documentos Opcionais</h3>

            <label>Nada Consta:</label>
            <div class="custom-file-upload">
                <input type="file" id="nadaConstaArquivo" name="nadaConstaArquivo" style="display: none" />
                <button type="button" onclick="document.getElementById('nadaConstaArquivo').click()">Selecionar
                    Arquivo</button>
                <span id="nomeArquivoNadaConsta">Nenhum arquivo escolhido</span>
            </div>

            <label style="margin-top: 20px">Comprovante MEI (opcional):</label>
            <div class="custom-file-upload">
                <input type="file" id="meiArquivo" name="meiArquivo" style="display: none" />
                <button type="button" onclick="document.getElementById('meiArquivo').click()">Selecionar
                    Arquivo</button>
                <span id="nomeArquivoMEI">Nenhum arquivo escolhido</span>
            </div>

            <label style="margin-top: 50px">Contrato:</label>
            <select name="contrato" required>
                <option value="">Selecione</option>
                <option>Comum</option>
                <option>Gestor</option>
                <option>MEI</option>
            </select>

            <label>Data de Admiss√£o:</label>
            <input type="date" name="dataAdmissao" required />

            <label>Telefone:</label>
            <input type="tel" name="telefone" maxlength="15" required oninput="mascaraTelefone(this)" />

            <label>Email:</label>
            <input type="email" name="email" required maxlength="100" />

            <label>Endere√ßo:</label>
            <input type="text" name="endereco" required maxlength="150" />

            <label>Complemento:</label>
            <input type="text" name="complemento" required maxlength="150" />

            <label>Bairro:</label>
            <input type="text" name="bairro" required maxlength="150" />

            <label>Munic√≠pio:</label>
            <input type="text" name="municipio" required maxlength="150" />

            <label>CEP:</label>
            <input type="text" name="cep" maxlength="10" required oninput="mascaraCEP(this)" />

            <label>Banco:</label>
            <input type="text" name="banco" required maxlength="100" />

            <label>Ag√™ncia:</label>
            <input type="text" name="agencia" required maxlength="50" />

            <label>Conta:</label>
            <input type="text" name="conta" required maxlength="30" />

            <label>PIX:</label>
            <input type="text" name="pix" required maxlength="80" />

            <label>Data de Nascimento:</label>
            <input type="date" name="dataNascimento" required id="dataNascimento" />

            <label>Idade:</label>
            <input type="number" name="idade" id="idade" disabled />

            <label>CPF:</label>
            <input type="text" name="cpf" maxlength="14" required oninput="mascaraCPF(this)" />

            <label>RG:</label>
            <input type="text" name="rg" maxlength="12" required oninput="mascaraRG(this)" />

            <label>Estado Civil:</label>
            <select name="estadoCivil" required>
                <option value="">Selecione</option>
                <option>Casado(a)</option>
                <option>Solteiro(a)</option>
                <option>Separado(a)</option>
                <option>Divorciado(a)</option>
                <option>Vi√∫vo(a)</option>
            </select>

            <label>Filhos:</label>
            <input type="number" name="filhos" max="99" required maxlength="2" oninput="limitarDigitos(this)" />

            <label>Nome de Familiar para Contato:</label>
            <input type="text" name="nomeFamiliar" required maxlength="30" />

            <label>Telefone do Familiar:</label>
            <input type="tel" name="contatoFamiliar" maxlength="15" required oninput="mascaraTelefone(this)" />

            <label>Indicado por:</label>
            <input type="text" name="indicado" required maxlength="30" />

            <label>Se desejar, utilize o campo 'Observa√ß√µes' para deixar uma mensagem adicional ou coment√°rio
                relevante.</label>
            <textarea name="observacao" maxlength="250" style="width: 100%; height: 120px"></textarea>

            <div class="button">
                <input type="submit" value="Enviar" />
            </div>
        </form>
    </div>

    <script>
        document.getElementById('dadosForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const form = e.target;

            // Verifica√ß√£o de arquivos obrigat√≥rios
            const arquivosObrigatorios = [
                { id: 'cnhArquivo', nome: 'CNH' },
                { id: 'comprovanteResidencia', nome: 'Comprovante de Resid√™ncia' },
                // { id: 'nadaConstaArquivo', nome: 'Nada Consta' }
            ];

            for (const arquivo of arquivosObrigatorios) {
                const input = document.getElementById(arquivo.id);
                if (!input || input.files.length === 0) {
                    alert(`Por favor, selecione o arquivo obrigat√≥rio: ${arquivo.nome}`);
                    input.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    return;
                }
            }

            if (!form.checkValidity()) {
                alert('Por favor, preencha todos os campos obrigat√≥rios.');
                return;
            }

            // Tudo certo
            window.location.href = 'agradecimento.html';
        });

        function limitarDigitos(input) {
            if (input.value.length > 2) {
                input.value = input.value.slice(0, 2);
            }
        }

        // Atualiza√ß√£o de nomes dos arquivos
        document.getElementById('cnhArquivo').addEventListener('change', function () {
            document.getElementById('nomeArquivoCNH').textContent = this.files.length > 0 ? this.files[0].name : 'Nenhum arquivo escolhido';
        });

        document.getElementById('comprovanteResidencia').addEventListener('change', function () {
            document.getElementById('nomeArquivoComprovante').textContent = this.files.length > 0 ? this.files[0].name : 'Nenhum arquivo escolhido';
        });

        document.getElementById('nadaConstaArquivo').addEventListener('change', function () {
            document.getElementById('nomeArquivoNadaConsta').textContent = this.files.length > 0 ? this.files[0].name : 'Nenhum arquivo escolhido';
        });

        document.getElementById('meiArquivo').addEventListener('change', function () {
            document.getElementById('nomeArquivoMEI').textContent = this.files.length > 0 ? this.files[0].name : 'Nenhum arquivo escolhido';
        });

        // C√°lculo autom√°tico da idade
        document.getElementById('dataNascimento')?.addEventListener('change', function () {
            const dataNasc = new Date(this.value);
            const hoje = new Date();

            if (!isNaN(dataNasc)) {
                let idade = hoje.getFullYear() - dataNasc.getFullYear();
                const m = hoje.getMonth() - dataNasc.getMonth();
                if (m < 0 || (m === 0 && hoje.getDate() < dataNasc.getDate())) idade--;
                document.getElementById('idade').value = idade;
            } else {
                document.getElementById('idade').value = '';
            }
        });

        // M√°scaras
        function mascaraTelefone(input) {
            input.value = input.value
                .replace(/\D/g, '')
                .replace(/^(\d{2})(\d)/g, '($1)$2')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .substring(0, 14);
        }

        function mascaraCPF(input) {
            input.value = input.value
                .replace(/\D/g, '')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d{2})$/, '$1-$2')
                .substring(0, 14);
        }

        function mascaraRG(input) {
            input.value = input.value
                .replace(/\D/g, '')
                .replace(/(\d{2})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d{1})$/, '$1-$2')
                .substring(0, 12);
        }

        function mascaraCEP(input) {
            input.value = input.value
                .replace(/\D/g, '')
                .replace(/^(\d{2})(\d)/g, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1-$2')
                .substring(0, 10);
        }
    </script>
</body>

</html>